<div class="d-flex justify-content-between align-items-center mb-4">
  <h1>商品一覧</h1>
  <%= link_to "新規作成", new_admin_product_path, class: "btn btn-primary" %>
</div>
<table class="table table-striped">
  <thead>
    <tr>
      <th>ID</th>
      <th>SKU</th>
      <th>商品名</th>
      <th>価格</th>
      <th>在庫</th>
      <th>セール</th>
      <th>操作</th>
    </tr>
  </thead>
  <tbody>
    <% @products.each do |product| %>
      <tr>
        <td><%= product.id %></td>
        <td><%= product.sku %></td>
        <td><%= product.name %></td>
        <td>¥<%= number_with_delimiter(product.price) %></td>
        <td class="<%= 'text-danger fw-bold' if product.stock_quantity < 5 %>">
          <%= product.stock_quantity %>
        </td>
        <td>
          <% if product.is_on_sale %>
            <span class="badge bg-success">セール中</span>
          <% else %>
            <span class="badge bg-secondary">通常</span>
          <% end %>
        </td>
        <td>
          <%= link_to "編集", edit_admin_product_path(product), class: "btn btn-sm btn-outline-primary me-1" %>
          <%= link_to "削除", admin_product_path(product),
            data: { turbo_method: :delete, turbo_confirm: "本当に削除しますか？" },
            class: "btn btn-sm btn-outline-danger" %>
        </td>
      </tr>
    <% end %>
  </tbody>
</table>
